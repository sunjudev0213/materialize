# Copyright 2019 Materialize, Inc. All rights reserved.
#
# This file is part of Materialize. Materialize may not be used or
# distributed without the express permission of Materialize, Inc.

mode cockroach

statement ok
CREATE TABLE likes (
  liker text,
  likee text
)

statement ok
INSERT INTO likes VALUES ('alice', 'bob'), ('bob', 'eve');

query TB rowsort
SELECT liker, EXISTS(
  SELECT * FROM likes as likes2 WHERE likes.likee = likes2.liker
) FROM likes
----
alice true
bob false