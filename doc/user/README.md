# doc/user

This is the root directory of the Materialize user docs, which are rendered by
the Hugo site in </www> locally or at <https://materialize.io/docs>.

Instructions for previewing the documentation locally are contained in </www>.

## Writing & managing docs

### Railroad diagrams for SQL grammar

Railroad diagrams consist of two parts:

- `bnf` files that describe the grammar you want to convey in a railroad
  diagram.
- `html` files that contain an `svg` generated by
  <https://www.bottlecaps.de/rr/ui>

#### To generate diagrams

1. Modify/create `bnf` files in `/www/layouts/partials/sql-grammar/bnf`.
1. Ensure your diagram looks like you want using
   <https://www.bottlecaps.de/rr/ui>.
2. Go to `/www/util/rr-diagram-gen/`
3. Run `make`.

You can now include the diagram on a page using:

```html
{{&lt; diagram "SOME_DIAGRAM.html" &gt;}}
```

- Replace `&lt;` with `<` and `&gt;` with `>`.
- `SOME_DIAGRAM` will be the name of the `bnf` file, and should be an `html`
  file visible in `/www/layouts/partials/sql-grammar/rr-diagrams`.

**Why is the world like this?**

Because our diagrams rely on Hugo's `partials` features, the diagram files are
maintained in the `/www` dir (the actual Hugo site), but referenced as if they
were local (through the magic of symlinks).
